/* ========================================================
 * bootstrap-progressbar v0.4.2
 * ========================================================
 * Copyright 2012 minddust.com
 *
 * bootstrap-progressbar is published under Apache License,
 * Version 2.0 (see LICENSE file).
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 * ======================================================== */
(function(e){"use strict";var t=function(t,n){this.element=e(t),this.options=e.extend({},e.fn.progressbar.defaults,n),this.transition()};t.prototype={constructor:t,transition:function(){var t=this.element,n=t.parent(),r=this.options,i=t.attr("data-percentage"),s=t.attr("data-amount-part"),o=t.attr("data-amount-total"),u,a,f;u=r.update&&typeof r.update=="function"?r.update:e.fn.progressbar.defaults.update,a=r.done&&typeof r.done=="function"?r.done:e.fn.progressbar.defaults.done,f=r.fail&&typeof r.fail=="function"?r.fail:e.fn.progressbar.defaults.fail;if(r.use_percentage&&!i){f("bootstrap-progressbar: you can't use percentage without data-percentage being set");return}if(!r.use_percentage){if(!s&&!o){f("bootstrap-progressbar: you can't use values without data-amount-part and data-amount-total being set");return}i=Math.round(100*s/o)}if(r.display_text===e.fn.progressbar.display_text.center){n.css("position","relative"),t.css({position:"absolute","float":"left",overflow:"hidden","-webkit-border-radius":r.border_radius,"-moz-border-radius":r.border_radius,"border-radius":r.border_radius}),n.prepend('<span class="progressbar-back-text" style="position:absolute;width:100%;text-align:center"></span>'),t.prepend('<span class="progressbar-front-text" style="display:block;text-align:center"></span>');var l=n.find(".progressbar-back-text"),c=n.find(".progressbar-front-text");c.css("width",n.css("width")),e(window).resize(function(){c.css("width",n.css("width"))})}setTimeout(function(){t.css("width",i+"%");var f,h,p,d,v,m=setInterval(function(){p=t.width(),d=n.width(),f=Math.round(100*p/d),h=Math.round(p/d*o),f>=i&&(f=i,h=s,a(),clearInterval(m)),r.display_text!==e.fn.progressbar.display_text.none&&(v=r.use_percentage?f+"%":h+" / "+o,r.display_text===e.fn.progressbar.display_text.filled?t.text(v):r.display_text===e.fn.progressbar.display_text.center&&(c.text(v),l.text(v))),u(f)},r.refresh_speed)},r.transition_delay)}},e.fn.progressbar=function(n){return this.each(function(){var r=e(this),i=r.data("progressbar"),s=typeof n=="object"&&n;i||r.data("progressbar",i=new t(this,s)),typeof n=="string"&&i[n]()})},e.fn.progressbar.display_text={none:0,filled:1,center:2},e.fn.progressbar.defaults={transition_delay:300,refresh_speed:50,display_text:e.fn.progressbar.display_text.none,use_percentage:!0,border_radius:"4px",update:e.noop,done:e.noop,fail:e.noop},e.fn.progressbar.Constructor=t})(window.jQuery);